# 乐山家具定制系统 - GitHub + Vercel 部署指南

## 📋 部署概览

本指南将帮助您将乐山家具定制系统部署到GitHub，并通过Vercel实现自动部署。

## 🚀 第一步：上传代码到GitHub

### 方法一：通过GitHub网页界面（推荐）

1. **访问GitHub仓库**
   - 打开浏览器，访问：https://github.com/TerryTang0759/Leshan911
   - 如果仓库不存在，请先创建新仓库

2. **上传文件**
   - 点击 "Add file" → "Upload files"
   - 将以下文件拖拽到上传区域：
     ```
     ├── api/
     │   └── index.js
     ├── public/
     │   └── index.html
     ├── config.js
     ├── package.json
     ├── server.js
     ├── vercel.json
     ├── .gitignore
     ├── README.md
     └── 其他配置文件
     ```

3. **提交更改**
   - 在页面底部填写提交信息：
     ```
     feat: 添加材质选择下拉菜单搜索功能
     
     - 为所有材质选择器添加实时搜索功能
     - 支持按材质名称和品牌搜索
     - 添加键盘导航支持（方向键、回车、ESC）
     - 优化下拉菜单显示和交互体验
     - 添加搜索关键词高亮显示
     - 支持模糊匹配和部分匹配
     ```
   - 点击 "Commit changes"

### 方法二：通过Git命令行（如果网络正常）

```bash
# 在项目目录中执行
git add .
git commit -m "feat: 添加材质选择下拉菜单搜索功能"
git push origin main
```

## 🌐 第二步：配置Vercel部署

### 1. 访问Vercel
- 打开浏览器，访问：https://vercel.com
- 使用GitHub账号登录

### 2. 导入项目
- 点击 "New Project"
- 选择 "Import Git Repository"
- 找到并选择 `TerryTang0759/Leshan911` 仓库
- 点击 "Import"

### 3. 配置项目设置
- **Project Name**: `leshan-furniture-system`
- **Framework Preset**: `Other`
- **Root Directory**: `./` (保持默认)
- **Build Command**: 留空
- **Output Directory**: 留空
- **Install Command**: `npm install`

### 4. 环境变量配置
在 "Environment Variables" 部分添加以下变量：

```
NODE_ENV=production
MONGODB_USERNAME=your_mongodb_username
MONGODB_PASSWORD=your_mongodb_password
MONGODB_CLUSTER=your_mongodb_cluster
MONGODB_DATABASE=leshan_furniture
MONGODB_COLLECTION=prices
```

### 5. 部署
- 点击 "Deploy" 按钮
- 等待部署完成（通常需要2-3分钟）

## 🔧 第三步：验证部署

### 1. 检查部署状态
- 在Vercel仪表板中查看部署状态
- 确保所有检查都显示绿色✅

### 2. 访问网站
- 点击 "Visit" 按钮或使用提供的URL
- 测试以下功能：
  - ✅ 页面正常加载
  - ✅ 材质选择器搜索功能
  - ✅ 报价计算功能
  - ✅ 响应式设计

### 3. 测试API接口
访问以下URL确保API正常工作：
- `https://your-domain.vercel.app/api/health`
- `https://your-domain.vercel.app/api/prices`

## 📱 第四步：配置自定义域名（可选）

### 1. 添加域名
- 在Vercel项目设置中点击 "Domains"
- 添加您的自定义域名
- 按照提示配置DNS记录

### 2. 配置SSL证书
- Vercel会自动为您的域名配置SSL证书
- 确保HTTPS正常工作

## 🔄 自动部署配置

### 1. 自动部署已启用
- 每次推送到GitHub的main分支都会自动触发部署
- 无需手动操作

### 2. 预览部署
- 每次创建Pull Request都会生成预览部署
- 可以安全地测试新功能

## 🛠️ 故障排除

### 常见问题

1. **部署失败**
   - 检查 `package.json` 中的依赖是否正确
   - 确保所有必需文件都已上传
   - 查看Vercel部署日志

2. **API接口无法访问**
   - 检查环境变量配置
   - 确保MongoDB连接信息正确
   - 查看服务器日志

3. **静态文件无法加载**
   - 检查 `vercel.json` 配置
   - 确保文件路径正确

### 日志查看
- 在Vercel仪表板中点击 "Functions" 标签
- 查看服务器日志和错误信息

## 📊 性能优化

### 1. 缓存配置
- Vercel自动配置CDN缓存
- 静态资源自动优化

### 2. 监控
- 使用Vercel Analytics监控网站性能
- 设置告警通知

## 🔐 安全配置

### 1. 环境变量
- 不要在代码中硬编码敏感信息
- 使用Vercel环境变量管理

### 2. API安全
- 考虑添加API限流
- 实施适当的CORS策略

## 📞 技术支持

如果遇到问题，可以：
1. 查看Vercel文档：https://vercel.com/docs
2. 检查GitHub Issues
3. 联系技术支持

---

## 🎉 部署完成

恭喜！您的乐山家具定制系统已成功部署到Vercel。现在可以通过以下方式访问：

- **生产环境**: `https://your-project.vercel.app`
- **GitHub仓库**: `https://github.com/TerryTang0759/Leshan911`

系统现在具备以下功能：
- ✅ 智能材质搜索
- ✅ 实时报价计算
- ✅ 响应式设计
- ✅ 自动部署
- ✅ 高性能CDN
